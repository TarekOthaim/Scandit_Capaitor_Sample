{"version":3,"file":"src_app_barcode-selection-simple-sample_barcode-selection-simple-sample_module_ts.js","mappings":"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","sources":["./src/app/barcode-selection-simple-sample/barcode-selection-simple-sample-routing.module.ts","./src/app/barcode-selection-simple-sample/barcode-selection-simple-sample.module.ts","./src/app/barcode-selection-simple-sample/barcode-selection-simple-sample.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BarcodeSelectionSimpleSamplePage } from './barcode-selection-simple-sample.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BarcodeSelectionSimpleSamplePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BarcodeSelectionSimpleSamplePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BarcodeSelectionSimpleSamplePageRoutingModule } from './barcode-selection-simple-sample-routing.module';\n\nimport { BarcodeSelectionSimpleSamplePage } from './barcode-selection-simple-sample.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BarcodeSelectionSimpleSamplePageRoutingModule\n  ],\n  declarations: [BarcodeSelectionSimpleSamplePage]\n})\nexport class BarcodeSelectionSimpleSamplePageModule {}\n","import { AfterViewInit, Component, ElementRef, NgZone, OnDestroy, ViewChild } from '@angular/core';\nimport { AlertController, ViewDidEnter, ViewWillLeave } from '@ionic/angular';\nimport { environment } from 'src/environments/environment';\n\ndeclare var Scandit;\ndeclare var window: any;\n\n@Component({\n  selector: 'app-barcode-selection-simple-sample',\n  templateUrl: './barcode-selection-simple-sample.page.html',\n  styleUrls: ['./barcode-selection-simple-sample.page.scss'],\n})\nexport class BarcodeSelectionSimpleSamplePage implements AfterViewInit, ViewDidEnter, ViewWillLeave, OnDestroy {\n  private context = Scandit.DataCaptureContext.forLicenseKey(environment.scanditLicenseKey);\n  private camera = Scandit.Camera.default;\n\n  private settings = new Scandit.BarcodeCaptureSettings();\n  private barcodeSelection = Scandit.BarcodeSelection.forContext(this.context, this.settings);\n\n  private captureView = Scandit.DataCaptureView.forContext(this.context);\n  @ViewChild('captureView') captureViewElement: ElementRef<HTMLDivElement>;\n  @ViewChild('ButtonsView') ButtonsViewElement: ElementRef<HTMLDivElement>;\n\n  private overlay = Scandit.BarcodeSelectionBasicOverlay.withBarcodeSelectionForView(this.barcodeSelection, this.captureView);\n\n  public isCaptureViewConnected = false;\n\n  constructor(\n    private alertController: AlertController,\n    private ngZone: NgZone\n  ) { }\n\n  ngAfterViewInit() {\n    this.settings.enableSymbologies([\n      Scandit.Symbology.EAN13UPCA,\n      Scandit.Symbology.EAN8,\n      Scandit.Symbology.UPCE,\n      Scandit.Symbology.QR,\n      Scandit.Symbology.DataMatrix,\n      Scandit.Symbology.Code39,\n      Scandit.Symbology.Code128,\n      Scandit.Symbology.InterleavedTwoOfFive,\n    ]);\n    this.settings.codeDuplicateFilter = 1000;\n    this.barcodeSelection.applySettings(this.settings);\n\n    this.barcodeSelection.addListener({\n      didUpdateSelection: async (barcodeSelection, session, _) => {\n\n        const barcode = session.newlySelectedBarcodes[0];\n\n        console.log('barcode.data = '+barcode.data);\n        if (!barcode) { return }\n        const symbology = new Scandit.SymbologyDescription(barcode.symbology);\n\n        this.captureViewElement.nativeElement.style.zIndex = '-1';\n        this.barcodeSelection.isEnabled = false;\n        session.getCount(barcode).then(count => {\n\n          console.log('session.getCount', symbology, barcode);\n          // showResult(`Scan Results<br>${symbology.readableName}: ${barcode.data}<br>Times: ${count}`);\n\n            this.showResult(symbology);\n\n        });\n\n      }\n    });\n\n    this.context.setFrameSource(this.camera);\n    this.camera.switchToDesiredState(Scandit.FrameSourceState.On);\n    this.toggleBarcodeSelectionType(true);\n  }\n\n  ionViewDidEnter(): void {\n    this.captureView.connectToElement(this.captureViewElement.nativeElement);\n    this.isCaptureViewConnected = true;\n\n    this.barcodeSelection.isEnabled = true;\n  }\n\n  ionViewWillLeave(): void {\n    this.captureView.detachFromElement();\n    this.isCaptureViewConnected = false;\n\n    this.camera.switchToDesiredState(Scandit.FrameSourceState.Off);\n    this.barcodeSelection.isEnabled = false;\n  }\n\n  ngOnDestroy() {\n    this.context.dispose();\n  }\n\n\n\n  showResult(result) {\n    if (document.querySelector('#result')) {\n      document.querySelector('#result').parentElement.removeChild(document.querySelector('#result'));\n    }\n\n    const resultElement = document.createElement('div');\n    resultElement.id = \"result\";\n    // resultElement.classList = \"result\";\n    resultElement.innerHTML = `<p>${result}</p>`;\n    document.querySelector('.divFull').appendChild(resultElement);\n    this.captureViewElement.nativeElement.style.zIndex = '-1';\n\n    clearTimeout(window.timeout);\n    window.timeout = setTimeout(window.continueScanning, 500);\n  }\n\n  toggleBarcodeSelectionType(forceIsTapSelection) {\n\n    console.log('forceIsTapSelection = ' + forceIsTapSelection);\n\n    if (forceIsTapSelection === true || this.settings.selectionType instanceof Scandit.BarcodeSelectionAimerSelection) {\n      \n      \n      document.getElementById('tapToSelect').className = 'selected';\n      document.getElementById('aimToSelect').className = '';\n      this.settings.selectionType = Scandit.BarcodeSelectionTapSelection.tapSelection;\n      this.barcodeSelection.applySettings(this.settings);\n    } else {\n      document.getElementById('tapToSelect').className = '';\n      document.getElementById('aimToSelect').className = 'selected';\n      this.settings.selectionType = Scandit.BarcodeSelectionAimerSelection.aimerSelection;\n      this.barcodeSelection.applySettings(this.settings);\n\n\n    }\n  }\n\n\n}\n"],"names":[],"sourceRoot":"webpack:///"}